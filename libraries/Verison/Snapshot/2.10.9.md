---
date: 2025-10-7
I_Link: https://pic1.imgdb.cn/item/66fde7a30a206445e36ebb11.png
Writer: ZeroPrism
Type: 快照版
Note: 本次更新为快照版更新，仅赞助者可以试用。当更新内容稳定后，即会更新至正式版。
---
## 自定义事件

- 添加了 Wiki 页面以给出更详细的示例与说明
- <paracolor color="Orange"/>支持为一个控件设置多个自定义事件，并按照顺序依次执行，详情参见 Wiki 页面（[#5684](https://github.com/Meloong-Git/PCL/issues/5684)，@Light-Beacon，PR @Open-KFC）
- 添加了下列新事件，详情参见 Wiki 页面
  - <paracolor color="Orange"/>修改变量：写入一个自定义变量，以便后续在替换标记中使用（[#5684](https://github.com/Meloong-Git/PCL/issues/5684)，@Light-Beacon）
  - 弹出提示：在左下角弹出一个提示条

### 已有事件调整

- 刷新页面 / 刷新主页：现在可以刷新任意可刷新页面，等同于按下 F5
- 刷新帮助：若提供了非空的参数，则不显示弹出提示（静默执行）
- 弹出窗口：可以可选地提供第三个参数，以修改弹窗确认按钮的文本
- 切换页面：支持使用枚举的英文名作为参数；子页面参数现在是可选的
- 下载文件：会在开始下载前弹出确认提示，以确保安全性
- 修改设置：不再允许修改加密设置

### 以下控件现已支持触发自定义事件

- MyCard：若可以展开则在展开/折叠时触发，若不可以则在直接点击时触发
- MyCheckBox、MyRadioBox、MyRadioButton：在勾选状态改变时触发
- MyComboBox：在选中的项改变时触发
- MyExtraButton、MyExtraTextButton、MyMenuItem：在点击时触发
- MyTextBox、MySearchBox：在按下回车时触发

### XAML 属性变更

- EventType 与 EventData 属性换用附加属性实现
  - EventType → local:CustomEventService.EventType
  - EventData → local:CustomEventService.EventData
- PCL 会自动替换以保证兼容性
- 当参数数量不够时，会给出更明确的提示

## 替换标记

- 添加了 Wiki 页面以给出更详细的示例与说明
- 添加了下列替换标记：
  - 读取使用"修改变量"自定义事件设置的变量：{varible:变量名}
  - 读取 PCL 设置：{setup:设置名}
  - PCL 版本信息：{pcl_version}、{pcl_version_code}
  - PCL 分支信息：{pcl_version_branch}、{pcl_branch}
  - 识别码：{identify}
  - PCL 程序路径：{path_with_name}
  - 缓存文件夹路径：{path_temp}

### 支持替换标记的设置

- <paracolor color="Orange"/>自定义主页的下载地址（[#5684](https://github.com/Meloong-Git/PCL/issues/5684)，@Light-Beacon）
- 启动选项 → 自定义信息，以及对应的版本独立设置
- 高级选项 → Java 虚拟机参数，以及对应的版本独立设置
- 高级选项 → 游戏参数，以及对应的版本独立设置
- <paracolor color="Orange"/>自定义主页、自定义帮助现能够使用全部替换标记（[#5552](https://github.com/Meloong-Git/PCL/issues/5552)，@zhuluzyy）

## 帮助库更新

- 添加"替换标记"页面
- 重写"自定义主页与帮助 XAML 格式"中的自定义事件教学
- <paracolor color="Orange"/>删除"自定义主页与帮助 XAML 格式"中并不存在的 EventType（[#7287](https://github.com/Meloong-Git/PCL/issues/7287)，@rt56cs）
- <paracolor color="Orange"/>移除无效的 Fallback 图床（LTCatt/PCL2Help[#431](https://github.com/Meloong-Git/PCL/issues/431)，PR @z0z0r4）

## 其他更新内容

- <paracolor color="Orange"/>如果版本设置了自定义描述，会在标题后面以淡灰色显示其版本号（[#7193](https://github.com/Meloong-Git/PCL/issues/7193)，@EggyPartyMc）
- <paracolor color="Orange"/>MyImage 的 FallbackSource 属性再次允许非网络图片（[#7209](https://github.com/Meloong-Git/PCL/issues/7209)）
- <paracolor color="Orange"/>若清理游戏垃圾时没有可清理的文件，则不强制重启 PCL（[#7217](https://github.com/Meloong-Git/PCL/issues/7217)，@XiaoU-Say-JE）
- 更新 9 月赞助者列表

## Bug 修复

- <paracolor color="Orange"/>若自定义主页未提供版本号，可能会高频率检查主页版本（[#6245](https://github.com/Meloong-Git/PCL/issues/6245)，@fengxiangQAQ）
- <paracolor color="Orange"/>更新/删除 Mod 时可能反复弹窗提示删除到回收站（[#7189](https://github.com/Meloong-Git/PCL/issues/7189)，@Calendula47）
- <paracolor color="Orange"/>在 Modrinth 下载 Mod/数据包混合工程时可能定位到错误的文件夹（[#7195](https://github.com/Meloong-Git/PCL/issues/7195)，@afi130）
- <paracolor color="Orange"/>下载时缓存文件夹被删除可能导致连续出错（[#7214](https://github.com/Meloong-Git/PCL/issues/7214)，@hongggggv）
- <paracolor color="Orange"/>下载源不支持多线程下载可能会直接导致失败（[#7220](https://github.com/Meloong-Git/PCL/issues/7220)）
- <paracolor color="Orange"/>下载 Mod 图标失败会大量弹出报错（[#7238](https://github.com/Meloong-Git/PCL/issues/7238)，@collguys）
- <paracolor color="Orange"/>无法安装 MMC 整合包（[#7285](https://github.com/Meloong-Git/PCL/issues/7285)，@xingteh）
- 更新失败替换文件的说明中，提示的新文件的路径有误
- 更新时几乎必定报错：删除老版本文件时权限不足
- 在长路径下首次启动 Forge 会崩溃
- 自定义帮助 XAML 未应用 GHSA-x9wr-mgmx-3hqp 的修复
- <paracolor color="Red"/>修复一个低危漏洞（GHSA-22mj-jjhv-rxm4，发现者 @yichenGZC，汇报者 @copytiao）
